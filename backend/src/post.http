########################################
### 🌍 ENVIRONMENT VARIABLES
########################################
@baseUrl = {{$dotenv API_BASE_URL}}
@apiVersion = api

# Tokens pulled from .env or set after login
@AdminToken = {{$dotenv ADMIN_TOKEN}}
@UserToken = {{$dotenv USER_TOKEN}}

# Example user and post IDs for testing
@targetUserId = {{$dotenv TEST_USER_ID}}
@postId = {{$dotenv TEST_POST_ID}}
@cursor = {{$dotenv TEST_CURSOR}}
########################################


########################################
### 🟢 POSTS ENDPOINTS
########################################

### 📦 Create a Post
# @name create_post
POST {{baseUrl}}/{{apiVersion}}/posts
Authorization: Bearer {{UserToken}}
Content-Type: application/json

{
  "content": "Enjoying the sunset 🌅 #goodvibes",
  "media": [
    { "url": "https://cdn.app.com/photos/sunset.jpg", "type": "image" }
  ]
}

---

### 🌍 Get All Public Posts (Feed — First Page)
# @name get_public_posts
GET {{baseUrl}}/{{apiVersion}}/posts?limit=4
Authorization: Bearer {{UserToken}}

---

### 🌍 Get Next Page (Cursor Pagination)
# @name get_public_posts_next_page
GET {{baseUrl}}/{{apiVersion}}/posts?limit=10&cursor={{cursor}}
Authorization: Bearer {{UserToken}}

---

### 🔍 Get a Single Post by ID
# @name get_post_by_id
GET {{baseUrl}}/{{apiVersion}}/posts/{{postId}}
Authorization: Bearer {{UserToken}}

---

### ❤️ Like a Post
# @name like_post
POST {{baseUrl}}/{{apiVersion}}/posts/{{postId}}/like
Authorization: Bearer {{UserToken}}

---

### 💔 Unlike a Post
# @name unlike_post
DELETE {{baseUrl}}/{{apiVersion}}/posts/{{postId}}/like
Authorization: Bearer {{UserToken}}

---

### 💬 Comment on a Post
# @name comment_on_post
POST {{baseUrl}}/{{apiVersion}}/posts/{{postId}}/comments
Authorization: Bearer {{UserToken}}
Content-Type: application/json

{
  "content": "This looks amazing! 😍"
}

---

### 🗑️ Delete a Post (Author Only)
# @name delete_post
DELETE {{baseUrl}}/{{apiVersion}}/posts/{{postId}}
Authorization: Bearer {{UserToken}}

---

### ✏️ Edit a Post
# @name edit_post
PATCH {{baseUrl}}/{{apiVersion}}/posts/{{postId}}
Authorization: Bearer {{UserToken}}
Content-Type: application/json

{
  "content": "Updated my post — feeling even more positive today! 🌞"
}

---

### 👤 Get All Posts by a Specific User
# @name get_posts_by_user
GET {{baseUrl}}/{{apiVersion}}/posts/user/{{targetUserId}}?limit=10
Authorization: Bearer {{UserToken}}

---

### 📄 Next Page of User Posts (Cursor Pagination)
# @name get_posts_by_user_next
GET {{baseUrl}}/{{apiVersion}}/posts/user/{{targetUserId}}?limit=5&cursor={{cursor}}
Authorization: Bearer {{UserToken}}
